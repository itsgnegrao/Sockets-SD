package Parte2;/** * TCPClient: Cliente para conexao TCP * Descricao: Envia uma informacao ao servidor e finaliza a conexao */import java.net.*;import java.io.*;import java.util.logging.Level;import java.util.logging.Logger;public class TCPClient extends Thread{    private static DataOutputStream out;    private static DataInputStream in;        public static void main (String args[]) {        try {            String ipServidor = "127.0.0.1";            Socket s = null;            int serverPort = 7896;   /* especifica a porta */            s = new Socket(ipServidor, serverPort);  /* conecta com o servidor */            clienteRecebe(s);            clienteEnvia(s);        } catch (IOException ex) {            Logger.getLogger(TCPClient.class.getName()).log(Level.SEVERE, null, ex);        }		     } //main            public static void clienteRecebe(Socket s) throws UnknownHostException{        (new Thread() {        @Override        public void run() {                        try{                in = new DataInputStream( s.getInputStream());            	BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));		String data = " ";				while(true){                    			data = in.readUTF();			System.out.println (data);									if(data.equals("ACKSAIR")){                            in.close(); out.close(); s.close();  //finaliza a conexao	                            this.interrupt();                            break;			}                        if(data.equals("SAIR")){                            out.writeUTF("ACKSAIR");                            in.close(); out.close(); s.close();  /* finaliza a conexao com o cliente */                            this.interrupt();                            break;                        }		}			    } catch (UnknownHostException e){		System.out.println("Socket:"+e.getMessage());            } catch (EOFException e){		System.out.println("EOF:"+e.getMessage());            } catch (IOException e){		System.out.println("leitura:"+e.getMessage());            } //catch        }                }).start();//Thread    }//metodo            public static void clienteEnvia(Socket s) throws UnknownHostException{        (new Thread() {        @Override        public void run() {                        try{                out =new DataOutputStream( s.getOutputStream());                                    	BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));		String data = " ";				while(true){			data = reader.readLine();			out.writeUTF(data);			System.out.println ("Informacao enviada.");                                                if(data.equals("SAIR")){                            in.close(); out.close(); s.close();  //finaliza a conexao	                            this.interrupt();                            break;			}		}			    } catch (UnknownHostException e){		System.out.println("Socket:"+e.getMessage());            } catch (EOFException e){		System.out.println("EOF:"+e.getMessage());            } catch (IOException e){		System.out.println("leitura:"+e.getMessage());            } //catch        }                }).start();//Thread    }//metodo        } //class